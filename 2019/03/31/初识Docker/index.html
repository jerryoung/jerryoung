<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/images/icons/icon-72x72.png"><link rel="icon" href="/images/icons/icon-72x72.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="author" content="Jerry Wu"><meta name="keywords" content="程序员, java, blockchain, developer"><meta name="description" content="概括Docker 是世界领先的软件容器平台。开发人员利用 Docker 可以解决，“在我的机器上可正常工作的啊！！！”的问题 容器又是什么东西？容器是一种标准化的软件单元。容器镜像是轻量的、可执行的独立软件包，包含软件运行所需的所有内容：代码、运行时环境、系统工具、系统库和设置。  图片出自：https:&#x2F;&#x2F;www.docker-cn.com&#x2F;what-container"><meta property="og:type" content="article"><meta property="og:title" content="初识Docker（针对开发人员）"><meta property="og:url" content="https://jaryoung.com/2019/03/31/%E5%88%9D%E8%AF%86Docker/index.html"><meta property="og:site_name" content="程序猿清丰"><meta property="og:description" content="概括Docker 是世界领先的软件容器平台。开发人员利用 Docker 可以解决，“在我的机器上可正常工作的啊！！！”的问题 容器又是什么东西？容器是一种标准化的软件单元。容器镜像是轻量的、可执行的独立软件包，包含软件运行所需的所有内容：代码、运行时环境、系统工具、系统库和设置。  图片出自：https:&#x2F;&#x2F;www.docker-cn.com&#x2F;what-container"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://s2.ax1x.com/2019/03/30/ADavjK.png"><meta property="article:published_time" content="2019-03-30T16:47:47.000Z"><meta property="article:modified_time" content="2022-02-09T03:19:17.081Z"><meta property="article:author" content="Jerry Wu"><meta property="article:tag" content="Docker"><meta property="article:tag" content="Container"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://s2.ax1x.com/2019/03/30/ADavjK.png"><link rel="manifest" href="/manifest.json"><script src="/sw-register.js"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4246138471118676" crossorigin="anonymous"></script><title>初识Docker（针对开发人员） | 程序猿清丰</title><link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><link rel="stylesheet" href="/css/my.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_2744905_21h2ljrrx09.css"><script id="fluid-configs">var Fluid=window.Fluid||{},CONFIG={hostname:"jaryoung.com",root:"/",version:"1.8.14",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1,scope:["home"]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"left",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:"ture",baidu:"30a17f235b72eb0b6b00ebd50502c5a2",google:"UA-219214701-1",gtag:302173009,tencent:{sid:null,cid:null},woyaola:null,cnzz:1280822839,leancloud:{app_id:"AVw7kqBWv8BqLExXq2drwbG3-gzGzoHsz",app_key:"I6ePpCb4W1A02o7TIXkrgrPX",server_url:null,path:"window.location.pathname",ignore_local:!1}},search_path:"/local-search.xml"}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 6.0.0"><link rel="alternate" href="/atom.xml" title="程序猿清丰" type="application/atom+xml">
</head><body><header><div class="header-inner" style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>程序猿清丰</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> 首页</a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> 归档</a></li><li class="nav-item"><a class="nav-link" href="/categories/"><i class="iconfont icon-layer-group"></i> 分类</a></li><li class="nav-item"><a class="nav-link" href="/tags/"><i class="iconfont icon-tags-fill"></i> 标签</a></li><li class="nav-item"><a class="nav-link" href="/message/"><i class="iconfont icon-comment"></i> 留言板</a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> 关于</a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">&nbsp;<i class="iconfont icon-search"></i>&nbsp;</a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(https://cdn.pixabay.com/photo/2020/05/07/04/01/digitization-5140071_1280.jpg) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle" title="初识Docker（针对开发人员）">初识Docker（针对开发人员）</span></div><div class="mt-3"><span class="post-meta mr-2"><i class="iconfont icon-author" aria-hidden="true"></i> Jerry Wu </span><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2019-03-31 00:47" pubdate>2019年3月31日 00:47</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 11k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 94 分钟 </span><span id="leancloud-page-views-container" class="post-meta" style="display:none"><i class="iconfont icon-eye" aria-hidden="true"></i> <span id="leancloud-page-views"></span> 次</span></div></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 style="display:none">初识Docker（针对开发人员）</h1><p class="note note-info">本文最后更新于：2022年2月9日 11:19</p><div class="markdown-body"><h2 id="概括"><a href="#概括" class="headerlink" title="概括"></a>概括</h2><p>Docker 是世界领先的软件容器平台。开发人员利用 Docker 可以解决，“在我的机器上可正常工作的啊！！！”的问题</p><h2 id="容器又是什么东西？"><a href="#容器又是什么东西？" class="headerlink" title="容器又是什么东西？"></a>容器又是什么东西？</h2><p>容器是一种标准化的软件单元。<br>容器镜像是轻量的、可执行的独立软件包，包含软件运行所需的所有内容：代码、运行时环境、系统工具、系统库和设置。<br><img src="https://s2.ax1x.com/2019/03/30/ADavjK.png" srcset="/img/loading.gif" lazyload alt="ADavjK.png"></p><blockquote><p>图片出自：<a target="_blank" rel="noopener" href="https://www.docker-cn.com/what-container">https://www.docker-cn.com/what-container</a></p></blockquote><span id="more"></span><h3 id="容器和虚拟机"><a href="#容器和虚拟机" class="headerlink" title="容器和虚拟机"></a>容器和虚拟机</h3><blockquote><p>容器和虚拟机具有相似的资源隔离和分配优势，但功能有所不同，因为容器虚拟化的是操作系统，而不是硬件，因此容器更容易移植，效率也更高。</p></blockquote><h4 id="容器和虚拟机对比"><a href="#容器和虚拟机对比" class="headerlink" title="容器和虚拟机对比"></a>容器和虚拟机对比</h4><table><thead><tr><th><strong>容器</strong></th><th><strong>虚拟机</strong></th></tr></thead><tbody><tr><td>容器是一个应用层抽象，用于将代码和依赖资源打包在一起。多个容器可以在同一台机器上运行，共享操作系统内核，但各自作为独立的进程在用户空间中运行。与虚拟机相比，容器占用的空间较少（容器镜像大小通常只有几十兆），瞬间就能完成启动。</td><td>虚拟机 (VM) 是一个物理硬件层抽象，用于将一台服务器变成多台服务器。管理程序允许多个 VM 在一台机器上运行。每个 VM 都包含一整套操作系统、一个或多个应用、必要的二进制文件和库资源，因</td></tr><tr><td><a target="_blank" rel="noopener" href="https://imgchr.com/i/ADwWLT"><img src="https://s2.ax1x.com/2019/03/30/ADwWLT.md.png" srcset="/img/loading.gif" lazyload alt="ADwWLT.md.png"></a>图片出自：<a target="_blank" rel="noopener" href="https://www.docker-cn.com/what-container">https://www.docker-cn.com/what-container</a></td><td><a target="_blank" rel="noopener" href="https://imgchr.com/i/ADwRyV"><img src="https://s2.ax1x.com/2019/03/30/ADwRyV.md.png" srcset="/img/loading.gif" lazyload alt="ADwRyV.md.png"></a>图片出自：<a target="_blank" rel="noopener" href="https://www.docker-cn.com/what-container">https://www.docker-cn.com/what-container</a></td></tr></tbody></table><h4 id="容器和虚拟机共用"><a href="#容器和虚拟机共用" class="headerlink" title="容器和虚拟机共用"></a>容器和虚拟机共用</h4><blockquote><p>将容器和虚拟机配合使用，为应用的部署和管理提供极大的灵活性。</p></blockquote><p><img src="https://s2.ax1x.com/2019/03/30/ADdmDS.png" srcset="/img/loading.gif" lazyload alt="ADdmDS.png"></p><blockquote><p>图片出自：<a target="_blank" rel="noopener" href="https://www.docker-cn.com/what-container">https://www.docker-cn.com/what-container</a></p></blockquote><h2 id="获取docker（针对Mac-用户）"><a href="#获取docker（针对Mac-用户）" class="headerlink" title="获取docker（针对Mac 用户）"></a>获取docker（针对Mac 用户）</h2><ol><li>建议注册一个账户</li><li>然后通过官网链接下载桌面版的Docker，<a target="_blank" rel="noopener" href="https://www.docker.com/products/docker-desktop">官网超链接</a>，如果想快一点可以试试看这个<a target="_blank" rel="noopener" href="https://download.docker.com/mac/stable/Docker.dmg">链接</a> 。(默认最新稳定版)</li></ol><p><a target="_blank" rel="noopener" href="https://imgchr.com/i/AD0J7F"><img src="https://s2.ax1x.com/2019/03/30/AD0J7F.md.png" srcset="/img/loading.gif" lazyload alt="AD0J7F.md.png"></a><br>3. 下载完，安装好，配置一下Docker 中国官方镜像加速源 <code>http://registry.docker-cn.com</code>，当然你也是可以选择其他的加速源例如阿里，网易等等。配置完，记得点击<strong>Apply&amp;Restart</strong>。<br><img src="https://s2.ax1x.com/2019/03/30/AD0zuV.png" srcset="/img/loading.gif" lazyload alt="AD0zuV.png"><br>4. 打开Terminal ，输入一下命令 <code>docker info</code><br><img src="https://s2.ax1x.com/2019/03/30/ADBWaF.png" srcset="/img/loading.gif" lazyload alt="ADBWaF.png"></p><p>安装工具，到此结束了，是不是想说So easy？其实就是如此轻松，马上可以享受到Docker带来的快感吧！</p><h2 id="使用Docker"><a href="#使用Docker" class="headerlink" title="使用Docker"></a>使用Docker</h2><p>我习惯上来先查一下，help（不想看，直接跳过哈，下面会开始讲，我目前经常使用的一些命令。）</p><figure class="highlight shell"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></div></td><td class="code"><pre><code class="hljs shell">docker help<br>Usage: docker [OPTIONS] COMMAND<br><br>A self-sufficient runtime for containers<br><br>Options:<br>      --config string      Location of client config files (default &quot;/Users/jaryoung/.docker&quot;)<br>  -D, --debug              Enable debug mode<br>  -H, --host list          Daemon socket(s) to connect to<br>  -l, --log-level string   Set the logging level (&quot;debug&quot;|&quot;info&quot;|&quot;warn&quot;|&quot;error&quot;|&quot;fatal&quot;) (default &quot;info&quot;)<br>      --tls                Use TLS; implied by --tlsverify<br>      --tlscacert string   Trust certs signed only by this CA (default &quot;/Users/jaryoung/.docker/ca.pem&quot;)<br>      --tlscert string     Path to TLS certificate file (default &quot;/Users/jaryoung/.docker/cert.pem&quot;)<br>      --tlskey string      Path to TLS key file (default &quot;/Users/jaryoung/.docker/key.pem&quot;)<br>      --tlsverify          Use TLS and verify the remote<br>  -v, --version            Print version information and quit<br><br>Management Commands:<br>  builder     Manage builds<br>  config      Manage Docker configs<br>  container   Manage containers<br>  image       Manage images<br>  network     Manage networks<br>  node        Manage Swarm nodes<br>  plugin      Manage plugins<br>  secret      Manage Docker secrets<br>  service     Manage services<br>  stack       Manage Docker stacks<br>  swarm       Manage Swarm<br>  system      Manage Docker<br>  trust       Manage trust on Docker images<br>  volume      Manage volumes<br><br>Commands:<br>  attach      Attach local standard input, output, and error streams to a running container<br>  build       Build an image from a Dockerfile<br>  commit      Create a new image from a container&#x27;s changes<br>  cp          Copy files/folders between a container and the local filesystem<br>  create      Create a new container<br>  diff        Inspect changes to files or directories on a container&#x27;s filesystem<br>  events      Get real time events from the server<br>  exec        Run a command in a running container<br>  export      Export a container&#x27;s filesystem as a tar archive<br>  history     Show the history of an image<br>  images      List images<br>  import      Import the contents from a tarball to create a filesystem image<br>  info        Display system-wide information<br>  inspect     Return low-level information on Docker objects<br>  kill        Kill one or more running containers<br>  load        Load an image from a tar archive or STDIN<br>  login       Log in to a Docker registry<br>  logout      Log out from a Docker registry<br>  logs        Fetch the logs of a container<br>  pause       Pause all processes within one or more containers<br>  port        List port mappings or a specific mapping for the container<br>  ps          List containers<br>  pull        Pull an image or a repository from a registry<br>  push        Push an image or a repository to a registry<br>  rename      Rename a container<br>  restart     Restart one or more containers<br>  rm          Remove one or more containers<br>  rmi         Remove one or more images<br>  run         Run a command in a new container<br>  save        Save one or more images to a tar archive (streamed to STDOUT by default)<br>  search      Search the Docker Hub for images<br>  start       Start one or more stopped containers<br>  stats       Display a live stream of container(s) resource usage statistics<br>  stop        Stop one or more running containers<br>  tag         Create a tag TARGET_IMAGE that refers to SOURCE_IMAGE<br>  top         Display the running processes of a container<br>  unpause     Unpause all processes within one or more containers<br>  update      Update configuration of one or more containers<br>  version     Show the Docker version information<br>  wait        Block until one or more containers stop, then print their exit codes<br><br>Run &#x27;docker COMMAND --help&#x27; for more information on a command.<br><br><br></code></pre></td></tr></table></figure><h3 id="docker-search"><a href="#docker-search" class="headerlink" title="docker search"></a>docker search</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker search --help<br><br>Usage: docker search [OPTIONS] TERM<br><br>Search the Docker Hub for images，为了在Docker Hub上面搜 **资源**（你们都懂得）<br><br>Options:<br>  -f, --filter filter   Filter output based on conditions provided<br>      --format string   Pretty-print search using a Go template<br>      --limit int       Max number of search results (default 25)<br>      --no-trunc        Don&#x27;t truncate output<br></code></pre></td></tr></table></figure><p>例如，我需要搜索一下上面有哪些mysql镜像，我们可以看到下面到信息：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker search mysql<br>NAME（名称）                                           DESCRIPTION（描述）                             STARS（多少次好评） OFFICIAL（官方）    AUTOMATED（自动化）<br>mysql                                                  MySQL is a widely used, open-source relation…   7964                [OK]<br>mariadb                                                MariaDB is a community-developed fork of MyS…   2665                [OK]<br>mysql/mysql-server                                     Optimized MySQL Server Docker images. Create…   598                                     [OK]<br>...<br></code></pre></td></tr></table></figure><h3 id="docker-pull"><a href="#docker-pull" class="headerlink" title="docker pull"></a>docker pull</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker pull --help<br><br>Usage: docker pull [OPTIONS] NAME[:TAG|@DIGEST]<br><br>Pull an image or a repository from a registry<br><br>Options:<br>  -a, --all-tags                Download all tagged images in the repository<br>      --disable-content-trust   Skip image verification (default true)<br></code></pre></td></tr></table></figure><p>例如，我们可以通过 <code>docker pull mysql</code> , 来下载最新版的mysql镜像。如果需要带上TAG，例如 <code>docker pull mysql:5.7</code></p><h3 id="docker-run"><a href="#docker-run" class="headerlink" title="docker run"></a>docker run</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker run --help<br><br>Usage: docker run [OPTIONS] IMAGE [COMMAND] [ARG...]<br><br>Run a command in a new container<br><br>Options(删除了一部分，详细的情况，可以自己查询):<br>      --add-host list                  Add a custom host-to-IP mapping (host:ip)<br>  -d, --detach                         Run container in background and print container ID<br>      --detach-keys string             Override the key sequence for detaching a container<br>      --device list                    Add a host device to the container<br>      --device-cgroup-rule list        Add a rule to the cgroup allowed devices list<br>      --device-read-bps list           Limit read rate (bytes per second) from a device (default [])<br>      --device-read-iops list          Limit read rate (IO per second) from a device (default [])<br>      --device-write-bps list          Limit write rate (bytes per second) to a device (default [])<br>      --device-write-iops list         Limit write rate (IO per second) to a device (default [])<br>      --disable-content-trust          Skip image verification (default true)<br>      --dns list                       Set custom DNS servers<br>      --dns-option list                Set DNS options<br>      --dns-search list                Set custom DNS search domains<br>      --entrypoint string              Overwrite the default ENTRYPOINT of the image<br>  -e, --env list                       Set environment variables<br>      --env-file list                  Read in a file of environment variables<br>      --expose list                    Expose a port or a range of ports<br>      --group-add list                 Add additional groups to join<br>      --health-cmd string              Command to run to check health<br>      --health-interval duration       Time between running the check (ms|s|m|h) (default 0s)<br>      --health-retries int             Consecutive failures needed to report unhealthy<br>      --health-start-period duration   Start period for the container to initialize before starting health-retries countdown (ms|s|m|h) (default 0s)<br>      --health-timeout duration        Maximum time to allow one check to run (ms|s|m|h) (default 0s)<br>      --help                           Print usage<br>  -h, --hostname string                Container host name<br>      --init                           Run an init inside the container that forwards signals and reaps processes<br>  -p, --publish list                   Publish a container&#x27;s port(s) to the host<br>  -P, --publish-all                    Publish all exposed ports to random ports<br>      --read-only                      Mount the container&#x27;s root filesystem as read only<br>      --restart string                 Restart policy to apply when a container exits (default &quot;no&quot;)<br>      --rm                             Automatically remove the container when it exits<br>      --runtime string                 Runtime to use for this container<br>      --security-opt list              Security Options<br>      --shm-size bytes                 Size of /dev/shm<br>      --sig-proxy                      Proxy received signals to the process (default true)<br>      --stop-signal string             Signal to stop a container (default &quot;SIGTERM&quot;)<br>      --stop-timeout int               Timeout (in seconds) to stop a container<br>      --storage-opt list               Storage driver options for the container<br>      --sysctl map                     Sysctl options (default map[])<br>      --tmpfs list                     Mount a tmpfs directory<br>  -t, --tty                            Allocate a pseudo-TTY<br>      --ulimit ulimit                  Ulimit options (default [])<br>  ...<br>  -v, --volume list                    Bind mount a volume<br>      --volume-driver string           Optional volume driver for the container<br>      --volumes-from list              Mount volumes from the specified container(s)<br>  -w, --workdir string                 Working directory inside the container<br></code></pre></td></tr></table></figure><h4 id="Mysql"><a href="#Mysql" class="headerlink" title="Mysql"></a>Mysql</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker run -p 3306:3306 --name mysql -v $PWD/conf:/etc/mysql/conf.d -v $PWD/logs:/logs -v $PWD/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 -d mysql:5.6.43<br></code></pre></td></tr></table></figure><ul><li>-p 3306:3306：将容器的 3306 端口映射到主机的 3306 端口。</li><li>-v $PWD&#x2F;conf:&#x2F;etc&#x2F;mysql&#x2F;conf.d：将主机当前目录下的 conf&#x2F;my.cnf 挂载到容器的 &#x2F;etc&#x2F;mysql&#x2F;my.cnf。</li><li>-v $PWD&#x2F;logs:&#x2F;logs：将主机当前目录下的 logs 目录挂载到容器的 &#x2F;logs。</li><li>-v $PWD&#x2F;data:&#x2F;var&#x2F;lib&#x2F;mysql ：将主机当前目录下的data目录挂载到容器的 &#x2F;var&#x2F;lib&#x2F;mysql 。</li><li>-e MYSQL_ROOT_PASSWORD&#x3D;123456：初始化 root 用户的密码。</li></ul><hr><h4 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker run -p 6379:6379 -v $PWD/data:/data --name redis  -d redis redis-server --appendonly yes<br></code></pre></td></tr></table></figure><p>命令说明：</p><ul><li>-p 6379:6379 : 将容器的6379端口映射到主机的6379端口</li><li>-v $PWD&#x2F;data:&#x2F;data : 将主机中当前目录下的data挂载到容器的&#x2F;data</li><li>redis-server –appendonly yes : 在容器执行redis-server启动命令，并打开redis持久化配置</li></ul><hr><h4 id="Nginx"><a href="#Nginx" class="headerlink" title="Nginx"></a>Nginx</h4><p>首先，我需要创建一下，文件夹,用于主宿机之间做映射使用。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">mkdir -p &#123;conf.d,html,logs&#125;<br></code></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker run -p 80:80 -p 84:84 -p 82:82 --name nginx -v $PWD/www:/www -v $PWD/html:/usr/share/nginx/html -v $PWD/logs:/www/logs -v $PWD/conf.d:/etc/nginx/conf.d -d nginx<br></code></pre></td></tr></table></figure><p>命令说明：</p><ul><li>-p 80:80：主机80到容器80，-p 84:84，同理（主机 -&gt; 宿机）</li><li>–name mynginx：将容器命名为nginx</li><li>-v $PWD&#x2F;www:&#x2F;www：将主机中当前目录下的www挂载到容器的&#x2F;www</li><li>-v $PWD&#x2F;conf&#x2F;conf.d:&#x2F;etc&#x2F;nginx&#x2F;conf.d：将主机中当前目录下的conf.d挂载到容器的&#x2F;etc&#x2F;nginx&#x2F;conf.d 不能挂载文件，只能挂载文件夹<blockquote><p>注意如果提醒你，是否不应该将一个文件夹挂载到文件下面，我需要自己手动创建一个nginx.conf配置文件，并放置到主机的映射配置文件夹中（$PWD&#x2F;conf），重新执行即可。如果出现了没有访问你配置的静态资源，很可能是访问到默认的配置（conf.d&#x2F;default.conf）,可以选择删除它，也可以选择覆盖&#x2F;etc&#x2F;nginx&#x2F;nginx.conf，但是前提需要备份原来的nginx.conf或者在原nginx.conf上做修改会更加适合。</p></blockquote></li><li>-v $PWD&#x2F;html:&#x2F;usr&#x2F;share&#x2F;nginx&#x2F;html，讲主机中当前的目录下的文件夹挂载到容器中<blockquote><p>这里映射不正确，很有可能导致访问403 拒绝访问的情况，如果你的html不是资源访问的跟路径，请配置正确的根路径，例如，资源是放在html&#x2F;hello的文件中，需要配置到$PWD&#x2F;html&#x2F;hello，而不是$PWD&#x2F;html。</p></blockquote></li><li>-v $PWD&#x2F;logs:&#x2F;wwwlogs：将主机中当前目录下的logs挂载到容器的&#x2F;wwwlogs</li></ul><h3 id="docker-ps"><a href="#docker-ps" class="headerlink" title="docker ps"></a>docker ps</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker ps --help<br><br>Usage: docker ps [OPTIONS]<br><br>List containers<br><br>Options:<br>  -a, --all             Show all containers (default shows just running)<br>  -f, --filter filter   Filter output based on conditions provided<br>      --format string   Pretty-print containers using a Go template<br>  -n, --last int        Show n last created containers (includes all states) (default -1)<br>  -l, --latest          Show the latest created container (includes all states)<br>      --no-trunc        Don&#x27;t truncate output<br>  -q, --quiet           Only display numeric IDs<br>  -s, --size            Display total file sizes<br></code></pre></td></tr></table></figure><p>例如，我们可以运行 <code>docker ps -a</code> ,查询一下我们容器中启动的镜像的情况：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                   PORTS               NAMES<br>4b9f565ae5ad        nginx               &quot;nginx -g &#x27;daemon of…&quot;   8 hours ago         Up 4 minutes                0.0.0.0:84-&gt;80/tcp       nginx<br>46519e512d58        redis               &quot;docker-entrypoint.s…&quot;   10 hours ago        Up 5 minutes                0.0.0.0:6379-&gt;6379/tcp   redis<br>293c9831f58a        mysql:5.6.43        &quot;docker-entrypoint.s…&quot;   10 hours ago        Up 4 minutes                0.0.0.0:3306-&gt;3306/tcp   mysql<br></code></pre></td></tr></table></figure><p>命令说明：</p><ul><li>-a Show all containers (default shows just running)，会显示所有存在的，默认是之后显示当前容器启动的镜像。</li></ul><h3 id="docker-stop"><a href="#docker-stop" class="headerlink" title="docker stop"></a>docker stop</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker stop --help<br><br>Usage: docker stop [OPTIONS] CONTAINER [CONTAINER...]<br><br>Stop one or more running containers<br><br>Options:<br>  -t, --time int   Seconds to wait for stop before killing it (default 10)<br></code></pre></td></tr></table></figure><h3 id="docker-start"><a href="#docker-start" class="headerlink" title="docker start"></a>docker start</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker start --help<br><br>Usage: docker start [OPTIONS] CONTAINER [CONTAINER...]<br><br>Start one or more stopped containers，可以启动一个或者多个容器<br><br>Options:<br>  -a, --attach               Attach STDOUT/STDERR and forward signals<br>      --detach-keys string   Override the key sequence for detaching a container<br>  -i, --interactive          Attach container&#x27;s STDIN<br></code></pre></td></tr></table></figure><p>例如，我们可以通过 <code>docker start nginx mysql</code> ，同时启动两个容器</p><h3 id="docker-exec"><a href="#docker-exec" class="headerlink" title="docker exec"></a>docker exec</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker exec --help<br><br>Usage: docker exec [OPTIONS] CONTAINER COMMAND [ARG...]<br><br>Run a command in a running container<br><br>Options:<br>  -d, --detach               Detached mode: run command in the background<br>      --detach-keys string   Override the key sequence for detaching a container<br>  -e, --env list             Set environment variables<br>  -i, --interactive          Keep STDIN open even if not attached<br>      --privileged           Give extended privileges to the command<br>  -t, --tty                  Allocate a pseudo-TTY<br>  -u, --user string          Username or UID (format: &lt;name|uid&gt;[:&lt;group|gid&gt;])<br>  -w, --workdir string       Working directory inside the container<br></code></pre></td></tr></table></figure><p>例如，我们可以通过命令快速进入到redis-cli，<code>docker exec -it redis redis-cli</code><br>，输入<code>exit</code> 就可以推出</p><hr><p>很多内容都是引用自：</p><blockquote><p><a target="_blank" rel="noopener" href="http://www.runoob.com/docker/docker-tutorial.html">http://www.runoob.com/docker/docker-tutorial.html</a><br><a target="_blank" rel="noopener" href="https://www.docker-cn.com/">https://www.docker-cn.com</a></p></blockquote></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/Docker/" class="category-chain-item">Docker</a></span></span></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/Docker/">#Docker</a> <a href="/tags/Container/">#Container</a></div></div><div class="license-box my-3"><div class="license-title"><div>初识Docker（针对开发人员）</div><div>https://jaryoung.com/2019/03/31/%E5%88%9D%E8%AF%86Docker/</div></div><div class="license-meta"><div class="license-meta-item"><div>作者</div><div>Jerry Wu</div></div><div class="license-meta-item license-meta-date"><div>发布于</div><div>2019年3月31日 00:47</div></div><div class="license-meta-item license-meta-date"><div>更新于</div><div>2022年2月9日 11:19</div></div><div class="license-meta-item"><div>许可协议</div><div><a target="_blank" href="https://creativecommons.org/licenses/by/4.0/"><span class="hint--top hint--rounded" aria-label="BY - 署名"><i class="iconfont icon-by"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"><a href="/2019/04/03/Java%E7%9A%84%E5%8C%85%E8%A3%85%E7%B1%BB%E5%9E%8B/" title="Java的包装类型"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">Java的包装类型</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"></article></div></div><article id="comments" lazyload><div id="valine"></div><script type="text/javascript">Fluid.utils.loadComments("#valine",(function(){Fluid.utils.createScript("https://cdn.staticfile.org/valine/1.4.16/Valine.min.js",(function(){var i=Object.assign({appId:"AVw7kqBWv8BqLExXq2drwbG3-gzGzoHsz",appKey:"I6ePpCb4W1A02o7TIXkrgrPX",path:"window.location.pathname",placeholder:"记得留下你的昵称和邮箱，可以快速收到回復～",avatar:"retro",meta:["nick","mail","link"],requiredFields:[],pageSize:10,lang:"zh-CN",highlight:!0,recordIP:!0,serverURLs:"",emojiCDN:null,emojiMaps:null,enableQQ:!0},{el:"#valine",path:window.location.pathname});new Valine(i),Fluid.utils.waitElementVisible("#valine .vcontent",()=>{var i="#valine .vcontent img:not(.vemoji)";Fluid.plugins.imageCaption(i),Fluid.plugins.fancyBox(i)})}))}))</script><noscript>Please enable JavaScript to view the comments</noscript></article></article></div></div></div><div class="d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><div class="footer-inner"><div class="footer-content"><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a><div style="font-size:.85rem"><span id="timeDate">载入天数...</span> <span id="times">载入时分秒...</span><script src="/js/duration.js"></script></div></div><div class="statistics"><span id="leancloud-site-pv-container" style="display:none">总访问量 <span id="leancloud-site-pv"></span> 次 </span><span id="leancloud-site-uv-container" style="display:none">总访客数 <span id="leancloud-site-uv"></span> 人</span></div><span id="cnzz_stat_icon_1280822839" style="display:none"></span></div></footer><script src="https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://cdn.staticfile.org/jquery/3.6.0/jquery.min.js"></script><script src="https://cdn.staticfile.org/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="/js/img-lazyload.js"></script><script defer>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?30a17f235b72eb0b6b00ebd50502c5a2";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script defer>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-219214701-1","auto"),ga("send","pageview")</script><script async src="https://www.google-analytics.com/analytics.js"></script><script async src="https://www.googletagmanager.com/gtag/js?id=302173009"></script><script defer>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","302173009")</script><script defer src="//s4.cnzz.com/z_stat.php?id=1280822839&show=pic" type="text/javascript"></script><script>Fluid.utils.createScript("https://cdn.staticfile.org/tocbot/4.18.0/tocbot.min.js",(function(){var t=jQuery("#toc");if(0!==t.length&&window.tocbot){var o=jQuery("#board-ctn").offset().top;window.tocbot.init({tocSelector:"#toc-body",contentSelector:".markdown-body",headingSelector:CONFIG.toc.headingSelector||"h1,h2,h3,h4,h5,h6",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",collapseDepth:CONFIG.toc.collapseDepth||0,scrollSmooth:!0,headingsOffset:-o}),t.find(".toc-list-item").length>0&&t.css("visibility","visible")}}))</script><script>!function(){var e=CONFIG.code_language.enable&&CONFIG.code_language.default,a=CONFIG.copy_btn;if(e||a){var i="";i+='<div class="code-widget">',i+="LANG",i+="</div>",jQuery(".markdown-body pre").each((function(){var n=jQuery(this);if(!(n.find("code.mermaid").length>0||n.find("span.line").length>0)){var t,c="";e&&(c=CONFIG.code_language.default,n[0].children.length>0&&n[0].children[0].classList.length>=2&&n.children().hasClass("hljs")?c=n[0].children[0].classList[1]:n[0].getAttribute("data-language")?c=n[0].getAttribute("data-language"):n.parent().hasClass("sourceCode")&&n[0].children.length>0&&n[0].children[0].classList.length>=2?(c=n[0].children[0].classList[1],n.parent().addClass("code-wrapper")):n.parent().hasClass("markdown-body")&&0===n[0].classList.length&&n.wrap('<div class="code-wrapper"></div>'),c=c.toUpperCase().replace(/(LIVECODESERVER|NONE)/,CONFIG.code_language.default)),n.append(i.replace("LANG",c).replace('code-widget">',(t=n[0],(Fluid.utils.getBackgroundLightness(t)>=0?"code-widget-light":"code-widget-dark")+(a?' code-widget copy-btn" data-clipboard-snippet><i class="iconfont icon-copy"></i>':' code-widget">')))),a&&Fluid.utils.createScript("https://cdn.staticfile.org/clipboard.js/2.0.10/clipboard.min.js",(function(){new window.ClipboardJS(".copy-btn",{target:function(e){for(var a=e.parentNode.childNodes,i=0;i<a.length;i++)if("CODE"===a[i].tagName)return a[i]}}).on("success",(function(e){e.clearSelection(),e.trigger.innerHTML=e.trigger.innerHTML.replace("icon-copy","icon-success"),setTimeout((function(){e.trigger.innerHTML=e.trigger.innerHTML.replace("icon-success","icon-copy")}),2e3)}))}))}}))}}()</script><script>Fluid.utils.createScript("https://cdn.staticfile.org/anchor-js/4.3.1/anchor.min.js",(function(){window.anchors.options={placement:CONFIG.anchorjs.placement,visible:CONFIG.anchorjs.visible},CONFIG.anchorjs.icon&&(window.anchors.options.icon=CONFIG.anchorjs.icon);var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var c of n)o.push(".markdown-body > "+c.trim());"left"===CONFIG.anchorjs.placement&&(window.anchors.options.class="anchorjs-link-left"),window.anchors.add(o.join(", "))}))</script><script>Fluid.utils.createScript("https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js",(function(){Fluid.plugins.fancyBox()}))</script><script>Fluid.plugins.imageCaption()</script><script src="/js/local-search.js"></script><script defer src="/js/leancloud.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div></noscript><script async>window.onload=function(){var a=document.createElement('script'),b=document.getElementsByTagName('script')[0];a.type='text/javascript',a.async=!0,a.src='/sw-register.js?v='+Date.now(),b.parentNode.insertBefore(a,b)};</script></body></html>